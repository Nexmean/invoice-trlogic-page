webpackJsonp([1],{"62OE":function(t,e,i){"use strict";function n(t){return void 0===t||null===t||""===t}var c=i("Zrlr"),a=i.n(c),o=i("wxAW"),r=i.n(o),s=i("F0gO"),u=i.n(s),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a()(this,t),this.id=u()(),this.name=e,this.count=i,this.price=n}return r()(t,[{key:"update",value:function(t){var e=t.name,i=t.count,c=t.price;n(e)||(this.name=e),n(i)||(this.count=i),n(c)||(this.price=c)}}]),t}();e.a=d},Bf13:function(t,e,i){"use strict";e.a={data:function(){return{isEditable:!0,name:"",count:0,price:0}},props:["record"],methods:{handleEdit:function(){this.name=this.record.name,this.count=this.record.count,this.price=this.record.price,this.isEditable=!0},handleRemove:function(){this.$emit("remove")},handleEditionCancel:function(){this.isEditable=!1},handleEditionConfirm:function(){this.$emit("update",{name:this.name,count:Number(this.count),price:Number(this.price)}),this.isEditable=!1}},directives:{focus:{inserted:function(t){t.focus()}}}}},IcnI:function(t,e,i){"use strict";var n=i("d7EF"),c=i.n(n);e.a=function(t){var e=t.entities.Record;return{state:{records:[]},mutations:{add:function(t,e){t.records.push(e)},remove:function(t,e){t.records=t.records.filter(function(t){return t.id!==e})},update:function(t,e){var i=e.id,n=e.data,a=t.records.filter(function(t){return t.id===i});c()(a,1)[0].update(n)}},actions:{addRecord:function(t,i){var n=t.commit,c=i.name,a=i.count,o=i.price;n("add",new e(c,a,o))},removeRecord:function(t,e){(0,t.commit)("remove",e)},updateRecord:function(t,e){(0,t.commit)("update",e)}},getters:{totalCount:function(t){return t.records.reduce(function(t,e){return t+e.count},0)},totalPrice:function(t){return t.records.reduce(function(t,e){return t+e.count*e.price},0)}}}}},"J3/R":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"invoice"},[t._m(0),t._v(" "),i("transition-group",{attrs:{name:"record-transition"}},t._l(t.records,function(e){return i("record",{key:e.id,staticClass:"invoice-record",attrs:{record:e},on:{update:function(i){return t.updateRecord({id:e.id,data:i})},remove:function(i){t.removeRecord(e.id)}}})})),t._v(" "),i("li",{staticClass:"invoice-total"},[i("div",{staticClass:"invoice-name invoice-name--total"},[t._v("Итого")]),t._v(" "),i("div",{staticClass:"invoice-count invoice-count--total"},[t._v(t._s(t.totalCount))]),t._v(" "),i("div",{staticClass:"invoice-price invoice-price--total"},[t._v(t._s(t.totalPrice))]),t._v(" "),i("div",{staticClass:"invoice-controls"},[i("a",{staticClass:"invoice-button--add",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.addRecord({name:"",count:0,price:0})}}},[i("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])])])],1)},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"invoice-header"},[i("div",{staticClass:"invoice-name"},[t._v("Наименование")]),t._v(" "),i("div",{staticClass:"invoice-count"},[t._v("Количество")]),t._v(" "),i("div",{staticClass:"invoice-price"},[t._v("Цена")]),t._v(" "),i("div",{staticClass:"invoice-controls"})])}],a={render:n,staticRenderFns:c};e.a=a},M93x:function(t,e,i){"use strict";function n(t){i("yPNs")}var c=i("xJD8"),a=i("J3/R"),o=i("VU/8"),r=n,s=o(c.a,a.a,r,null,null);e.a=s.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),c=i("NYxO"),a=i("IcnI"),o=i("62OE"),r=i("M93x");n.a.config.productionTip=!1,n.a.use(c.a);var s=i.i(a.a)({entities:{Record:o.a}}),u=new c.a.Store(s);new n.a({el:"#app",template:"<App/>",components:{App:r.a},store:u})},fJA7:function(t,e){},hCTq:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isEditable?i("li",{staticClass:"invoice-editable",on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.handleEditionConfirm(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"},{name:"focus",rawName:"v-focus"}],staticClass:"invoice-name invoice-input",attrs:{placeholder:"Наименование"},domProps:{value:t.name},on:{focus:function(t){t.target.select()},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"invoice-count invoice-input",domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"invoice-price invoice-input",domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),t._v(" "),i("div",{staticClass:"invoice-controls"},[i("a",{staticClass:"invoice-button--confirm",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.handleEditionConfirm(e)}}},[i("i",{staticClass:"fa fa-check",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("a",{staticClass:"invoice-button--cancel",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.handleEditionCancel(e)}}},[i("i",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}})])])]):i("li",{staticClass:"record"},[i("div",{staticClass:"invoice-name"},[t._v(t._s(t.record.name))]),t._v(" "),i("div",{staticClass:"invoice-count"},[t._v(t._s(t.record.count))]),t._v(" "),i("div",{staticClass:"invoice-price"},[t._v(t._s(t.record.price))]),t._v(" "),i("div",{staticClass:"invoice-controls"},[i("a",{staticClass:"invoice-button--edit",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.handleEdit(e)}}},[i("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("a",{staticClass:"invoice-button--remove",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.handleRemove(e)}}},[i("i",{staticClass:"fa fa-minus",attrs:{"aria-hidden":"true"}})])])])},c=[],a={render:n,staticRenderFns:c};e.a=a},wbzd:function(t,e,i){"use strict";function n(t){i("fJA7")}var c=i("Bf13"),a=i("hCTq"),o=i("VU/8"),r=n,s=o(c.a,a.a,r,null,null);e.a=s.exports},xJD8:function(t,e,i){"use strict";var n=i("Dd8w"),c=i.n(n),a=i("NYxO"),o=i("wbzd");e.a={name:"app",computed:c()({},i.i(a.b)(["records"]),i.i(a.c)(["totalCount","totalPrice"])),methods:c()({},i.i(a.d)(["addRecord","removeRecord","updateRecord"])),components:{Record:o.a}}},yPNs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d95f5dd866823b496b86.js.map